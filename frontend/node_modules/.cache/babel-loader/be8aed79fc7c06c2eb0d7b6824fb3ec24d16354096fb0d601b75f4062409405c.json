{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import ReviewSection from\"./components/ReviewSection\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProductDetails(){const{name}=useParams();const[product,setProduct]=useState(null);const[features,setFeatures]=useState([]);const navigate=useNavigate();useEffect(()=>{fetch(\"http://localhost:5000/api/admin/name/\".concat(name)).then(res=>{if(!res.ok)throw new Error(\"Product not found.\");return res.json();}).then(data=>setProduct(data)).catch(err=>{console.error(\"❌ Error loading product:\",err);navigate(\"/\");});fetch(\"http://localhost:5000/api/products/\".concat(name,\"/features\")).then(res=>res.json()).then(data=>setFeatures(data)).catch(err=>console.error(\"❌ Error loading features:\",err));},[name,navigate]);if(!product){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center p-8\",children:\"Loading...\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-100 min-h-screen py-12 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-5xl mx-auto bg-white rounded-xl shadow-lg p-8\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/\"),className:\"mb-6 inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\",children:\"\\u2190 Back to Home\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row gap-8\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.ImageURL||\"/placeholder.png\",alt:product.ProductName,className:\"w-32 h-32 object-contain mx-auto md:mx-0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-2\",children:product.ProductName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:product.Description}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-700 font-semibold text-lg\",children:[\"Price: \",product.Price]}),typeof product.AverageRating===\"number\"&&/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2 text-yellow-500 font-medium\",children:[\"\\u2B50 \",product.AverageRating.toFixed(1),\" / 5.0\"]}),features.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-800 mb-2\",children:\"Key Features:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside text-gray-700 text-sm\",children:features.map((f,i)=>/*#__PURE__*/_jsx(\"li\",{children:f.Feature||f},i))})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-10\",children:/*#__PURE__*/_jsx(ReviewSection,{productId:product.ProductID})})]})});}","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","ReviewSection","jsx","_jsx","jsxs","_jsxs","ProductDetails","name","product","setProduct","features","setFeatures","navigate","fetch","concat","then","res","ok","Error","json","data","catch","err","console","error","className","children","onClick","src","ImageURL","alt","ProductName","Description","Price","AverageRating","toFixed","length","map","f","i","Feature","productId","ProductID"],"sources":["E:/Diplomna/frontend/src/ProductDetails.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport ReviewSection from \"./components/ReviewSection\";\r\n\r\nexport default function ProductDetails() {\r\n  const { name } = useParams();\r\n  const [product, setProduct] = useState(null);\r\n  const [features, setFeatures] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    fetch(`http://localhost:5000/api/admin/name/${name}`)\r\n      .then((res) => {\r\n        if (!res.ok) throw new Error(\"Product not found.\");\r\n        return res.json();\r\n      })\r\n      .then((data) => setProduct(data))\r\n      .catch((err) => {\r\n        console.error(\"❌ Error loading product:\", err);\r\n        navigate(\"/\");\r\n      });\r\n\r\n    fetch(`http://localhost:5000/api/products/${name}/features`)\r\n      .then((res) => res.json())\r\n      .then((data) => setFeatures(data))\r\n      .catch((err) =>\r\n        console.error(\"❌ Error loading features:\", err)\r\n      );\r\n  }, [name, navigate]);\r\n\r\n  if (!product) {\r\n    return <div className=\"text-center p-8\">Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-gray-100 min-h-screen py-12 px-4\">\r\n      <div className=\"max-w-5xl mx-auto bg-white rounded-xl shadow-lg p-8\">\r\n        <button\r\n          onClick={() => navigate(\"/\")}\r\n          className=\"mb-6 inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\"\r\n        >\r\n          ← Back to Home\r\n        </button>\r\n\r\n        <div className=\"flex flex-col md:flex-row gap-8\">\r\n          <img\r\n            src={product.ImageURL || \"/placeholder.png\"}\r\n            alt={product.ProductName}\r\n            className=\"w-32 h-32 object-contain mx-auto md:mx-0\"\r\n          />\r\n          <div className=\"flex-1\">\r\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n              {product.ProductName}\r\n            </h1>\r\n            <p className=\"text-gray-600 mb-4\">{product.Description}</p>\r\n            <p className=\"text-blue-700 font-semibold text-lg\">\r\n              Price: {product.Price}\r\n            </p>\r\n\r\n            {typeof product.AverageRating === \"number\" && (\r\n              <p className=\"mt-2 text-yellow-500 font-medium\">\r\n                ⭐ {product.AverageRating.toFixed(1)} / 5.0\r\n              </p>\r\n            )}\r\n\r\n            {features.length > 0 && (\r\n              <div className=\"mt-6\">\r\n                <h3 className=\"font-semibold text-gray-800 mb-2\">\r\n                  Key Features:\r\n                </h3>\r\n                <ul className=\"list-disc list-inside text-gray-700 text-sm\">\r\n                  {features.map((f, i) => (\r\n                    <li key={i}>{f.Feature || f}</li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mt-10\">\r\n          <ReviewSection productId={product.ProductID} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}